#!/bin/sh

cd frontend || exit 1

echo "Running pre-commit checks..."

echo "1. Formatting with Prettier..."
pnpm prettier --write . || { echo "✗ Prettier failed"; exit 1; }
echo "✓ Prettier passed"

echo "2. Linting with ESLint..."
pnpm eslint . --fix || { echo "✗ ESLint failed"; exit 1; }
echo "✓ ESLint passed"

echo "3. TypeScript type check..."
pnpm tsc --noEmit || { echo "✗ Type check failed"; exit 1; }
echo "✓ TypeScript passed"

echo "4. Running tests..."
pnpm test:run || { echo "✗ Tests failed"; exit 1; }
echo "✓ Tests passed"

echo "All pre-commit checks passed! ✓"
